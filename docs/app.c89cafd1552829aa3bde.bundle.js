(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["app"],{

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _components_City__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/City */ \"./src/components/City.js\");\n/* harmony import */ var normalize_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! normalize.css */ \"./node_modules/normalize.css/normalize.css\");\n/* harmony import */ var normalize_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(normalize_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _styles_app_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles/app.scss */ \"./src/styles/app.scss\");\n/* harmony import */ var _styles_app_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_app_scss__WEBPACK_IMPORTED_MODULE_4__);\n\n\n // Styles\n\n\n\nvar camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](45, window.innerWidth / window.innerHeight, 100, 5000);\ncamera.position.set(0, 120, 400);\nvar DarwinCity = new _components_City__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\ncamera.lookAt(DarwinCity.cars[0]);\nvar renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]({\n  antialias: true\n});\nrenderer.setSize(window.innerWidth, window.innerHeight);\nvar controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__[\"OrbitControls\"](camera, renderer.domElement);\ncontrols.maxDistance = 1000;\ndocument.querySelector('#scene').appendChild(renderer.domElement);\n\n(function animate() {\n  DarwinCity.update();\n  renderer.render(DarwinCity.scene, camera);\n  requestAnimationFrame(animate);\n})();\n\n//# sourceURL=webpack:///./src/app.js?");

/***/ }),

/***/ "./src/components/Car/Car.js":
/*!***********************************!*\
  !*** ./src/components/Car/Car.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CarModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CarModel */ \"./src/components/Car/CarModel.js\");\n/* harmony import */ var _services_Navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/Navigation */ \"./src/services/Navigation.js\");\n/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../helpers/utils */ \"./src/helpers/utils.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n // import CarSensor from './CarSensor';\n\n\n\n\nvar Car =\n/*#__PURE__*/\nfunction () {\n  function Car(props) {\n    _classCallCheck(this, Car);\n\n    var position = props.position,\n        angle = props.angle;\n    this.position = {\n      x: 0,\n      y: 0\n    };\n    this.handleAngle = 0;\n    this.mesh = _CarModel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create3dModel();\n    this.mesh.rotation.x = -Math.PI / 2;\n    this.setPosition(position.sceneX, position.sceneY);\n    this.setAngle(angle);\n    this.navigation = _services_Navigation__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n    this.currentRouteTile = null;\n    this.velocity = 0;\n    this.brakePower = 0.1;\n    this.accelerationPower = 0.1;\n    this.maxVelocity = 0.5; // this.sensors = {\n    //   front: new CarSensor(this.mesh.position, 0)\n    // };\n    // this.mesh.add(this.sensors.front.createMesh());\n  }\n\n  _createClass(Car, [{\n    key: \"getLeftDistanceToEnd\",\n    value: function getLeftDistanceToEnd() {\n      var _this$position = this.position,\n          x = _this$position.x,\n          y = _this$position.y;\n      var targetTile = this.route[this.currentRouteTile];\n      var leftDistance = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getDistance(x, targetTile.sceneY, y, targetTile.sceneY);\n\n      for (var i = this.currentRouteTile + 1; i < this.route.length; i++) {\n        leftDistance += _helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getDistance(this.route[i - 1].sceneX, this.route[i].sceneX, this.route[i - 1].sceneY, this.route[i].sceneY);\n      }\n\n      return leftDistance;\n    }\n  }, {\n    key: \"getStoppingDistance\",\n    value: function getStoppingDistance() {\n      var tmpVelocity = this.velocity;\n      var stoppingDistance = 0;\n\n      while (tmpVelocity > 0) {\n        tmpVelocity -= this.brakePower;\n        stoppingDistance += tmpVelocity;\n      }\n\n      return stoppingDistance;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(x, y) {\n      this.position.x = x;\n      this.position.y = y;\n      this.mesh.position.set(x, 0, y);\n    }\n  }, {\n    key: \"setAngle\",\n    value: function setAngle(angle) {\n      this.angle = angle;\n      this.mesh.rotation.z = -_helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].angleToRadians(this.angle);\n    }\n  }, {\n    key: \"calculateNextPosition\",\n    value: function calculateNextPosition() {\n      var _this$position2 = this.position,\n          x = _this$position2.x,\n          y = _this$position2.y;\n      var newX = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].roundNumber(x + Math.sin(_helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].angleToRadians(this.angle)) * this.velocity, 1);\n      var newY = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].roundNumber(y - Math.cos(_helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].angleToRadians(this.angle)) * this.velocity, 1);\n      this.setPosition(newX, newY);\n    }\n  }, {\n    key: \"setRoute\",\n    value: function setRoute(fromTile, toTile) {\n      this.route = this.navigation.findBestRoute(fromTile, toTile);\n      this.currentRouteTile = 0;\n    }\n  }, {\n    key: \"accelerate\",\n    value: function accelerate() {\n      var nextVelocity = this.velocity + this.accelerationPower;\n\n      if (nextVelocity > this.maxVelocity) {\n        this.velocity = this.maxVelocity;\n        return;\n      }\n\n      this.velocity = nextVelocity;\n    }\n  }, {\n    key: \"brake\",\n    value: function brake() {\n      var nextVelocity = this.velocity - this.brakePower;\n\n      if (nextVelocity < 0) {\n        this.velocity = 0;\n        return;\n      }\n\n      this.velocity = nextVelocity;\n    } // turnLeft() {\n    // }\n\n  }, {\n    key: \"nextRoutePoint\",\n    value: function nextRoutePoint() {\n      if (this.route[this.currentRouteTile + 1]) {\n        this.currentRouteTile++;\n      } else {\n        this.currentRouteTile = null;\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (this.currentRouteTile === null) {\n        return;\n      }\n\n      var targetTile = this.route[this.currentRouteTile];\n      var _this$position3 = this.position,\n          x = _this$position3.x,\n          y = _this$position3.y;\n      var deltaX = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].roundNumber(targetTile.sceneX - x, 1);\n      var deltaY = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].roundNumber((targetTile.sceneY - y) * -1, 1);\n\n      if (deltaX === 0 && deltaY === 0) {\n        return this.nextRoutePoint();\n      }\n\n      var bestAngle = _helpers_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].calcAngleDegrees(deltaY, deltaX);\n\n      if (bestAngle !== this.angle) {\n        this.setAngle(bestAngle);\n      } // if(isLastTile) {\n\n\n      var leftDistance = this.getLeftDistanceToEnd();\n      var distanceToStop = this.getStoppingDistance();\n\n      if (distanceToStop >= leftDistance) {\n        this.brakePower();\n      } else {\n        this.accelerate();\n      } // } else {\n      //   this.accelerate();\n      // }\n\n\n      this.calculateNextPosition();\n\n      if (targetTile.sceneX === this.position.x && targetTile.sceneY === this.position.y) {\n        this.nextRoutePoint();\n      }\n    }\n  }]);\n\n  return Car;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Car);\n\n//# sourceURL=webpack:///./src/components/Car/Car.js?");

/***/ }),

/***/ "./src/components/Car/CarModel.js":
/*!****************************************!*\
  !*** ./src/components/Car/CarModel.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\n\nfunction createCabinTexture(width, height, rects) {\n  var canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  var context = canvas.getContext('2d');\n  context.fillStyle = '#fff';\n  context.fillRect(0, 0, width, height);\n  context.fillStyle = '#3d3d3d';\n  rects.forEach(function (rect) {\n    context.fillRect(rect.x, rect.y, rect.w, rect.h);\n  });\n  return new three__WEBPACK_IMPORTED_MODULE_0__[\"CanvasTexture\"](canvas);\n}\n\nfunction createWheel() {\n  var wheel = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxBufferGeometry\"](16, 5, 5), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x000000\n  }));\n  wheel.position.z = 2.5;\n  return wheel;\n}\n\nvar vechicleColors = [0xa52523, 0xbdb638, 0x78b14b];\nvar carFrontTexture = createCabinTexture(80, 40, [{\n  x: 10,\n  y: 0,\n  w: 60,\n  h: 30\n}]);\nvar carBackTexture = createCabinTexture(80, 40, [{\n  x: 10,\n  y: 10,\n  w: 60,\n  h: 30\n}]);\nvar carRightSideTexture = createCabinTexture(40, 110, [{\n  x: 10,\n  y: 10,\n  w: 30,\n  h: 50\n}, {\n  x: 10,\n  y: 70,\n  w: 30,\n  h: 30\n}]);\nvar carLeftSideTexture = createCabinTexture(40, 110, [{\n  x: 0,\n  y: 10,\n  w: 30,\n  h: 50\n}, {\n  x: 0,\n  y: 70,\n  w: 30,\n  h: 30\n}]);\n\nfunction create3dModel() {\n  var carGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"](); // Car Chassis\n\n  var color = vechicleColors[Math.floor(Math.random() * vechicleColors.length)];\n  var main = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxBufferGeometry\"](14, 30, 7), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: color,\n    flatShading: true\n  }));\n  main.position.z = 6;\n  carGroup.add(main); // Car Cabin\n\n  var cabin = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxBufferGeometry\"](14, 15, 6), [new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xcccccc,\n    map: carRightSideTexture\n  }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xcccccc,\n    map: carLeftSideTexture\n  }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xcccccc,\n    map: carFrontTexture\n  }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xcccccc,\n    map: carBackTexture\n  }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xcccccc\n  }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xcccccc\n  })]);\n  cabin.position.y = -3.5;\n  cabin.position.z = 12.5;\n  carGroup.add(cabin); // Car Wheels\n\n  var frontWheel = createWheel();\n  frontWheel.position.y = -9;\n  carGroup.add(frontWheel);\n  var backWheel = createWheel();\n  backWheel.position.y = 9;\n  carGroup.add(backWheel);\n  return carGroup;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  create3dModel: create3dModel\n});\n\n//# sourceURL=webpack:///./src/components/Car/CarModel.js?");

/***/ }),

/***/ "./src/components/Car/index.js":
/*!*************************************!*\
  !*** ./src/components/Car/index.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Car__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Car */ \"./src/components/Car/Car.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_Car__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack:///./src/components/Car/index.js?");

/***/ }),

/***/ "./src/components/City.js":
/*!********************************!*\
  !*** ./src/components/City.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _House__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./House */ \"./src/components/House.js\");\n/* harmony import */ var _Car__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Car */ \"./src/components/Car/index.js\");\n/* harmony import */ var _Street__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Street */ \"./src/components/Street.js\");\n/* harmony import */ var _services_WorldMatrix__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/WorldMatrix */ \"./src/services/WorldMatrix.js\");\n/* harmony import */ var _helpers_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/constants */ \"./src/helpers/constants.js\");\n/* harmony import */ var _helpers_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/utils */ \"./src/helpers/utils.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar DarwinCity =\n/*#__PURE__*/\nfunction () {\n  function DarwinCity() {\n    _classCallCheck(this, DarwinCity);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.scene.background = new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xfae0cb);\n    this.tileSize = _helpers_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].tileSize;\n    this.width = _helpers_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].worldWidth;\n    this.height = _helpers_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].worldHeight;\n    this.matrix = _services_WorldMatrix__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n    this.groundCanvas = document.createElement('canvas');\n    this.groundCanvas.width = this.width;\n    this.groundCanvas.height = this.height;\n    this.streets = [];\n    this.houses = [new _House__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n      width: 30,\n      height: 101,\n      depth: 20,\n      x: 150\n    })];\n    this.cars = [];\n    this.initilize();\n  }\n\n  _createClass(DarwinCity, [{\n    key: \"drawTilesGrid\",\n    value: function drawTilesGrid() {\n      var _this = this;\n\n      var ctx = this.groundCanvas.getContext('2d');\n      ctx.fillStyle = '#cac4ae';\n      ctx.fillRect(0, 0, this.width, this.height);\n      this.matrix.getTiles().forEach(function (tile) {\n        ctx.strokeStyle = '#aea998';\n        ctx.strokeRect(_this.tileSize * tile.x, _this.tileSize * tile.y, _this.tileSize, _this.tileSize);\n      });\n    }\n  }, {\n    key: \"populateStreets\",\n    value: function populateStreets() {\n      var _this2 = this;\n\n      var ctx = this.groundCanvas.getContext('2d');\n      var axes = ['Row', 'Col'];\n      axes.forEach(function (axis) {\n        var counter = 0;\n\n        var _loop = function _loop(i) {\n          counter++;\n          var tiles = [];\n\n          for (var j = 0; j < _this2.matrix.size; j++) {\n            var tile = axis === 'Col' ? _this2.matrix.getTile(i, j) : _this2.matrix.getTile(j, i);\n            tiles.push(tile);\n          }\n\n          var street = new _Street__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n            name: \"\".concat(axis, \"-\").concat(counter),\n            tiles: tiles\n          });\n          tiles.forEach(function (tile) {\n            _this2.matrix.setTileContent(tile.x, tile.y, street);\n          });\n          street.drawOnCanvas(ctx);\n\n          _this2.streets.push(street);\n        };\n\n        for (var i = 2; i < _this2.matrix.size; i += 4) {\n          _loop(i);\n        }\n      });\n    }\n  }, {\n    key: \"createCarRouteTrace\",\n    value: function createCarRouteTrace(car) {\n      var geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"Geometry\"]();\n      var material = new three__WEBPACK_IMPORTED_MODULE_0__[\"LineBasicMaterial\"]({\n        color: 0xffff00\n      });\n      car.route.forEach(function (point) {\n        geometry.vertices.push(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](point.sceneX, point.sceneY, -5));\n      });\n      var routeTrace = new three__WEBPACK_IMPORTED_MODULE_0__[\"Line\"](geometry, material);\n      routeTrace.rotation.x = 90 * Math.PI / 180;\n      this.scene.add(routeTrace);\n    }\n  }, {\n    key: \"populateCars\",\n    value: function populateCars() {\n      var carTotal = 10;\n\n      for (var i = 0; i < carTotal; i++) {\n        var fromStreet = this.streets[_helpers_utils__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getRandomInt(0, this.streets.length)];\n        var toStreet = this.streets[_helpers_utils__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getRandomInt(0, this.streets.length)];\n        var fromTile = fromStreet.tiles[_helpers_utils__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getRandomInt(0, 2) === 0 ? 0 : fromStreet.tiles.length - 1];\n        var toTile = toStreet.tiles[_helpers_utils__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getRandomInt(0, 2) === 0 ? 0 : fromStreet.tiles.length - 1];\n        var car = new _Car__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n          position: fromTile,\n          angle: 180\n        });\n        car.setRoute(fromTile, toTile);\n        this.createCarRouteTrace(car);\n        this.scene.add(car.mesh);\n        this.cars.push(car);\n      }\n    }\n  }, {\n    key: \"populateBuildings\",\n    value: function populateBuildings() {\n      var _this3 = this;\n\n      this.houses.forEach(function (house) {\n        _this3.scene.add(house.mesh);\n      });\n    }\n  }, {\n    key: \"createGround\",\n    value: function createGround() {\n      var ground = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxBufferGeometry\"](this.width, 20, this.height), [new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: 0xcac4ae\n      }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: 0xcac4ae\n      }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        map: new three__WEBPACK_IMPORTED_MODULE_0__[\"CanvasTexture\"](this.groundCanvas)\n      }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: 0xcac4ae\n      }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: 0xcac4ae\n      }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: 0xcac4ae\n      })]);\n      ground.position.set(0, -10, 0);\n      this.scene.add(ground);\n    }\n  }, {\n    key: \"initilize\",\n    value: function initilize() {\n      this.drawTilesGrid();\n      this.populateStreets();\n      this.populateBuildings();\n      this.populateCars();\n      this.createGround(); // Center Reference\n\n      var referenceY = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxBufferGeometry\"](5, 125, 5), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: 0xff0000\n      }));\n      referenceY.rotation.x = -Math.PI / 2;\n      this.scene.add(referenceY);\n      var referenceX = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxBufferGeometry\"](125, 5, 5), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: 0xff0000\n      }));\n      referenceX.rotation.x = -Math.PI / 2;\n      this.scene.add(referenceX);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.cars.forEach(function (car) {\n        car.update();\n      });\n    }\n  }]);\n\n  return DarwinCity;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DarwinCity);\n\n//# sourceURL=webpack:///./src/components/City.js?");

/***/ }),

/***/ "./src/components/House.js":
/*!*********************************!*\
  !*** ./src/components/House.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar windowSize = {\n  width: 8,\n  height: 13,\n  margin: 1\n};\nvar houseColors = [{\n  wall: '#7ca1bf',\n  window: '#648199'\n}, {\n  wall: '#cb7a4d',\n  window: '#845032'\n}];\n\nvar House =\n/*#__PURE__*/\nfunction () {\n  function House(props) {\n    _classCallCheck(this, House);\n\n    this.color = houseColors[Math.floor(Math.random() * houseColors.length)];\n    this.mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxBufferGeometry\"](props.width, props.depth, props.height), [new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      map: this.createTexture(props.depth, props.height, 270)\n    }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      map: this.createTexture(props.depth, props.height, 90)\n    }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      map: this.createTexture(props.width, props.height, 0)\n    }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      map: this.createTexture(props.width, props.height, 0)\n    }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: 0x444444\n    }), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: 0x444444\n    })]);\n    this.mesh.position.x = props.x;\n    this.mesh.position.y = props.height / 2;\n    this.mesh.rotation.x = -Math.PI / 2;\n  }\n\n  _createClass(House, [{\n    key: \"createTexture\",\n    value: function createTexture(width, height, degree) {\n      var canvas = document.createElement('canvas');\n      var ctx = canvas.getContext('2d');\n      var radians = degree * Math.PI / 180;\n      canvas.width = width * Math.abs(Math.cos(radians)) + height * Math.abs(Math.sin(radians));\n      canvas.height = width * Math.abs(Math.sin(radians)) + height * Math.abs(Math.cos(radians));\n      ctx.translate(canvas.width / 2, canvas.height / 2);\n      ctx.rotate(radians);\n      ctx.translate(-width / 2, -height / 2);\n      ctx.fillStyle = this.color.wall;\n      ctx.fillRect(0, 0, width, height);\n      ctx.fillStyle = this.color.window;\n      var windowOuter = {\n        width: windowSize.width + windowSize.margin * 2,\n        height: windowSize.height + windowSize.margin * 2\n      };\n      var windowsX = Math.floor(width / windowOuter.width);\n      var windowsY = Math.floor(height / windowOuter.height);\n\n      if (windowsX >= 1 && windowsY >= 1) {\n        var windowsTotal = windowsX * windowsY;\n        var windowsTotalWidth = windowsX * windowOuter.width;\n        var windowsTotalHeight = windowsY * windowOuter.height;\n        var initOffsetX = (width - windowsTotalWidth) / 2;\n        var initOffsetY = (height - windowsTotalHeight) / 2;\n\n        for (var i = 0; i < windowsTotal; i++) {\n          var x = windowOuter.width * (i % windowsX) + windowSize.margin + initOffsetX;\n          var y = windowOuter.height * Math.floor(i / windowsX) + windowSize.margin + initOffsetY;\n          ctx.fillRect(x, y, windowSize.width, windowSize.height);\n        }\n      }\n\n      return new three__WEBPACK_IMPORTED_MODULE_0__[\"CanvasTexture\"](canvas);\n    }\n  }]);\n\n  return House;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (House);\n\n//# sourceURL=webpack:///./src/components/House.js?");

/***/ }),

/***/ "./src/components/Street.js":
/*!**********************************!*\
  !*** ./src/components/Street.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/constants */ \"./src/helpers/constants.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar Street =\n/*#__PURE__*/\nfunction () {\n  function Street(props) {\n    _classCallCheck(this, Street);\n\n    this.name = props.name;\n    this.tiles = props.tiles;\n    this.tileSize = _helpers_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].tileSize;\n  }\n\n  _createClass(Street, [{\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx) {\n      var _this = this;\n\n      this.tiles.forEach(function (tile, i) {\n        var x = _this.tileSize * tile.x;\n        var y = _this.tileSize * tile.y;\n        ctx.fillStyle = '#989899';\n        ctx.fillRect(x, y, _this.tileSize, _this.tileSize);\n\n        if (i === 0) {\n          ctx.textAlign = 'center';\n          ctx.font = '11px Verdana';\n          ctx.fillStyle = '#fff';\n          ctx.fillText(_this.name, x + _this.tileSize / 2, y + _this.tileSize / 2);\n        }\n      });\n    }\n  }]);\n\n  return Street;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Street);\n\n//# sourceURL=webpack:///./src/components/Street.js?");

/***/ }),

/***/ "./src/helpers/constants.js":
/*!**********************************!*\
  !*** ./src/helpers/constants.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  tileSize: 40,\n  worldWidth: 1000,\n  worldHeight: 1000\n});\n\n//# sourceURL=webpack:///./src/helpers/constants.js?");

/***/ }),

/***/ "./src/helpers/utils.js":
/*!******************************!*\
  !*** ./src/helpers/utils.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar utils = {\n  roundNumber: function roundNumber(number, decimals) {\n    var newnumber = Number(\"\".concat(number)).toFixed(parseInt(decimals, 10));\n    return parseFloat(newnumber);\n  },\n  radiansToAngle: function radiansToAngle(radians) {\n    return radians * (180 / Math.PI);\n  },\n  angleToRadians: function angleToRadians(angle) {\n    return angle * Math.PI / 180;\n  },\n  calcAngleDegrees: function calcAngleDegrees(x, y) {\n    return this.roundNumber(this.radiansToAngle(Math.atan2(y, x)), 2);\n  },\n  getDistance: function getDistance(x1, x2, y1, y2) {\n    var a = x1 - x2;\n    var b = y1 - y2;\n    return Math.sqrt(a * a + b * b);\n  },\n\n  /**\n   * The maximum is exclusive and the minimum is inclusive\n   * @param {number} min\n   * @param {number} max\n   */\n  getRandomInt: function getRandomInt(min, max) {\n    var minCeil = Math.ceil(min);\n    var maxFloor = Math.floor(max);\n    return Math.floor(Math.random() * (maxFloor - minCeil)) + minCeil;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (utils);\n\n//# sourceURL=webpack:///./src/helpers/utils.js?");

/***/ }),

/***/ "./src/services/Navigation.js":
/*!************************************!*\
  !*** ./src/services/Navigation.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _WorldMatrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WorldMatrix */ \"./src/services/WorldMatrix.js\");\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar Location = function Location(props) {\n  _classCallCheck(this, Location);\n\n  this.x = props.x;\n  this.y = props.y;\n  this.path = props.path || [];\n  this.status = 'Unknown';\n};\n\nvar Navigation =\n/*#__PURE__*/\nfunction () {\n  function Navigation() {\n    _classCallCheck(this, Navigation);\n\n    this.matrix = _WorldMatrix__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    this.fromLocation = null;\n    this.toLocation = null;\n    this.activeStreetMatrix = null;\n  }\n\n  _createClass(Navigation, [{\n    key: \"verifyLocationStatus\",\n    value: function verifyLocationStatus(location) {\n      var x = location.x,\n          y = location.y;\n\n      if (x < 0 || x >= this.matrix.size || y < 0 || y >= this.matrix.size) {\n        return 'Invalid';\n      }\n\n      var tile = this.activeStreetMatrix[x][y];\n\n      if (x === this.toLocation.x && y === this.toLocation.y) {\n        return 'Goal';\n      }\n\n      if (!tile.streets.length || tile.isVisited) {\n        return 'Blocked';\n      }\n\n      return 'Valid';\n    }\n  }, {\n    key: \"exploreInDirection\",\n    value: function exploreInDirection(currentLocation, direction) {\n      var y = currentLocation.y,\n          x = currentLocation.x;\n      var newPath = currentLocation.path.slice();\n      newPath.push(this.matrix.getTile(x, y));\n\n      if (direction === 'North') {\n        y -= 1;\n      } else if (direction === 'East') {\n        x += 1;\n      } else if (direction === 'South') {\n        y += 1;\n      } else if (direction === 'West') {\n        x -= 1;\n      }\n\n      var newLocation = new Location({\n        x: x,\n        y: y,\n        path: newPath\n      });\n      newLocation.status = this.verifyLocationStatus(newLocation);\n\n      if (newLocation.status === 'Goal') {\n        newLocation.path.push(this.matrix.getTile(x, y));\n      }\n\n      if (newLocation.status === 'Valid') {\n        this.activeStreetMatrix[x][y].isVisited = true;\n      }\n\n      return newLocation;\n    }\n  }, {\n    key: \"findBestRoute\",\n    value: function findBestRoute(fromTile, toTile) {\n      var directions = ['North', 'East', 'South', 'West'];\n      var bestRoute = null;\n      this.activeStreetMatrix = this.matrix.getStreetMatrix();\n      this.fromLocation = new Location({\n        x: fromTile.x,\n        y: fromTile.y\n      });\n      this.toLocation = new Location({\n        x: toTile.x,\n        y: toTile.y\n      });\n      var queue = [this.fromLocation];\n      this.activeStreetMatrix[this.fromLocation.x][this.fromLocation.y].isVisited = true;\n\n      while (queue.length > 0 || bestRoute !== null) {\n        var currentLocation = queue.shift();\n\n        for (var i = 0; i < directions.length; i++) {\n          var location = this.exploreInDirection(currentLocation, directions[i]);\n\n          if (location.status === 'Goal') {\n            return location.path;\n          }\n\n          if (location.status === 'Valid') {\n            queue.push(location);\n          }\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return Navigation;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new Navigation());\n\n//# sourceURL=webpack:///./src/services/Navigation.js?");

/***/ }),

/***/ "./src/services/WorldMatrix.js":
/*!*************************************!*\
  !*** ./src/services/WorldMatrix.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/constants */ \"./src/helpers/constants.js\");\n/* harmony import */ var _components_Street__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/Street */ \"./src/components/Street.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar matrixSize = 25;\nvar worldWidth = _helpers_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].worldWidth,\n    worldHeight = _helpers_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].worldHeight,\n    tileSize = _helpers_constants__WEBPACK_IMPORTED_MODULE_0__[\"default\"].tileSize;\n\nvar MatrixTile =\n/*#__PURE__*/\nfunction () {\n  function MatrixTile(x, y) {\n    _classCallCheck(this, MatrixTile);\n\n    this.x = x;\n    this.y = y;\n    this.contents = [];\n    this.sceneX = worldWidth / 2 * -1 + x * tileSize + tileSize / 2;\n    this.sceneY = worldHeight / 2 * -1 + y * tileSize + tileSize / 2;\n  }\n\n  _createClass(MatrixTile, [{\n    key: \"getStreetContents\",\n    value: function getStreetContents() {\n      return this.contents.filter(function (content) {\n        return content instanceof _components_Street__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n      });\n    }\n  }]);\n\n  return MatrixTile;\n}();\n\nvar CityMatrix =\n/*#__PURE__*/\nfunction () {\n  function CityMatrix() {\n    _classCallCheck(this, CityMatrix);\n\n    this.size = matrixSize;\n    this.matrix = [];\n\n    for (var i = 0; i < this.size; i++) {\n      this.matrix[i] = [];\n\n      for (var j = 0; j < this.size; j++) {\n        this.matrix[i][j] = new MatrixTile(i, j);\n      }\n    }\n  }\n\n  _createClass(CityMatrix, [{\n    key: \"getTiles\",\n    value: function getTiles() {\n      var tiles = [];\n\n      for (var i = 0; i < this.matrix.length; i++) {\n        for (var j = 0; j < this.matrix[i].length; j++) {\n          tiles.push(this.matrix[i][j]);\n        }\n      }\n\n      return tiles;\n    }\n  }, {\n    key: \"getTile\",\n    value: function getTile(x, y) {\n      return this.matrix[x][y];\n    }\n  }, {\n    key: \"setTileContent\",\n    value: function setTileContent(x, y, contentNode) {\n      var hasContent = this.matrix[x][y].contents.some(function (content) {\n        return content === contentNode;\n      });\n\n      if (hasContent) {\n        return;\n      }\n\n      this.matrix[x][y].contents.push(contentNode);\n    }\n  }, {\n    key: \"getStreetMatrix\",\n    value: function getStreetMatrix() {\n      var newMatrix = [];\n\n      for (var i = 0; i < this.matrix.length; i++) {\n        newMatrix[i] = [];\n\n        for (var j = 0; j < this.matrix[i].length; j++) {\n          var streetContents = this.matrix[i][j].getStreetContents();\n          newMatrix[i][j] = {\n            streets: streetContents\n          };\n        }\n      }\n\n      return newMatrix;\n    }\n  }]);\n\n  return CityMatrix;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new CityMatrix());\n\n//# sourceURL=webpack:///./src/services/WorldMatrix.js?");

/***/ }),

/***/ "./src/styles/app.scss":
/*!*****************************!*\
  !*** ./src/styles/app.scss ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/styles/app.scss?");

/***/ })

},[["./src/app.js","runtime","vendors"]]]);